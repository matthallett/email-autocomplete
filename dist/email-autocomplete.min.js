!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.emailautocomplete=e()}(this,function(){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,o=!1,s=void 0;try{for(var l,r=t[Symbol.iterator]();!(n=(l=r.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw s}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,e){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r(this,"suggest",function(t){var e=a(t.split("@"),2)[1];return(o.options.domains.filter(function(t){return 0===t.indexOf(e)}).shift()||"").replace(e,"")}),r(this,"autocomplete",function(){if(void 0===o.suggestion||o.suggestion.length<1)return!1;o.$field.value=o.$field.value+o.suggestion,o.$field.dispatchEvent(new Event("change")),o.$suggestionOverlay.innerHTML="",o.$currentVal.innerHTML="",o.suggestion=""}),r(this,"displaySuggestion",function(t){t.preventDefault();var e=o.$field.value;o.suggestion=o.suggest(e),o.$suggestionOverlay.innerHTML="",o.$suggestionOverlay.innerHTML=o.suggestion,o.$currentVal.innerHTML=e;var i=parseInt(o.fieldStyle.borderLeftWidth)+parseInt(o.fieldStyle.paddingLeft)+parseInt(o.fieldStyle.marginLeft),n=o.$currentVal.offsetWidth;o.$field.offsetWidth>n&&(o.$suggestionOverlay.style.left="".concat(i+n,"px"))}),this.$field=t,this.options=e,this.suggestion="",this.fieldStyle=getComputedStyle(this.$field);var i=document.createElement("div");i.className="eac-input-wrap",i.style.position="static"===this.fieldStyle.position?"relative":this.fieldStyle.position,i.style.fontSize=this.fieldStyle.fontSize,this.$field.parentNode.insertBefore(i,this.$field),i.appendChild(this.$field),this.$currentVal=document.createElement("span"),this.$currentVal.className="eac-currentVal";var n="visibility:hidden;position:absolute;display:inline-block;font-family:"+this.fieldStyle.fontFamily+";font-weight:"+this.fieldStyle.fontWeight+";letter-spacing:"+this.fieldStyle.letterSpacing+";";this.$currentVal.style=n,i.appendChild(this.$currentVal);var s=parseInt(this.fieldStyle.borderTopWidth)+parseInt(this.fieldStyle.paddingTop);this.$suggestionOverlay=document.createElement("span"),this.$suggestionOverlay.className=this.options.suggClass;var l="display:block;box-sizing:content-box;line-height:"+this.fieldStyle.lineHeight+";padding-top:"+s+"px;padding-bottom:"+s+"px;font-family:"+this.fieldStyle.fontFamily+";font-weight:"+this.fieldStyle.fontWeight+";letter-spacing:"+this.fieldStyle.letterSpacing+";position:absolute;top:0;left:0;";this.$suggestionOverlay.style=l,i.appendChild(this.$suggestionOverlay),this.$field.addEventListener("keyup",this.displaySuggestion),this.$field.addEventListener("blur",this.autocomplete),this.$field.addEventListener("keydown.eac",function(t){39!==t.key&&9!==t.key||o.autocomplete()}),this.$suggestionOverlay.addEventListener("mousedown.eac touchstart.eac",this.autocomplete)}var n="eac-sugg",o=["yahoo.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","outlook.com","icloud.com"];return function(t,e){return new u(t,{domains:[].concat(i(e.domains),i(o)),suggClass:e.suggClass?e.suggClass:n})}});
